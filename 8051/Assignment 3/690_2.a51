ORG 0x0000
SJMP MAIN
MAIN: NOP
CALL DELAY
MOV A, P1
MOV R0, A
MOV A, R0
MOV R1, #8
SHIFT_LOOP:
RRC A
MOV P1, A
CALL DELAY
DJNZ R1, SHIFT_LOOP
SJMP MAIN

DELAY:
MOV R4, #255
DELAY_LOOP0:
MOV R2, #255
DELAY_LOOP1:
MOV R3, #255

DELAY_LOOP2:
DJNZ R3, DELAY_LOOP2

DJNZ R2, DELAY_LOOP1
DJNZ R4, DELAY_LOOP0
RET

END